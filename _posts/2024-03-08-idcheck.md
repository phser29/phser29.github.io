---
layout: single
title: "(JS) 중복, 유효성 체크"
categories: java
tag: spring
toc: true
---

#  아이디 중복 검사

```
let idCheck = false;

// db에 있는 id와 비교하여 같은게 있다면 false를 내고 다시 입력
$(".id_input").on("propertychange change keyup paste input", function() {
	let memberId = $(".id_input").val();
	let data = {memberId : memberId};
	
	$.ajax({
		type : "POST",
		url : "/member/memberIdChk",
		data : data,
		success : function(result) {
			if(result != 'fail'){
				$('.id_input_re_1').css("display", "inline-block");
				$('.id_input_re_2').css("display", "none");
				idckCheck = true;		
			} else {
				$('.id_input_re_2').css("display","inline-block");
				$('.id_input_re_1').css("display", "none");
				idckCheck = false;		
			}
		}
	});
});
```

- 중복 반환 controller

```
@RequestMapping(value = "/memberIdChk", method = RequestMethod.POST)
@ResponseBody // JSON 형태 반환시 
public String memberIdChkPOST(String memberId) throws Exception {
	
	int result = memberService.idCheck(memberId);
	
	if(result != 0) {
		return "fail";
	} else {
		return "success";
	}
}
```

# 비밀번호 유효성 검사

- 두 input 데이터가 일치하는지 아닌지 체크

```
let	pwckcorCheck = true;

$('.pwck_input').on("propertychange change keyup paste input", function(){
	let pw = $('.pw_input').val();
	let pwck = $('.pwck_input').val();
	$('.final_pwck_ck').css('display', 'none');
	
	if(pw === pwck) {
		$('.pwck_input_re_1').css('display', 'block');
		$('.pwck_input_re_2').css('display', 'none');		
		pwckcorCheck = true;
	} else {
		$('.pwck_input_re_1').css('display', 'none');
		$('.pwck_input_re_2').css('display', 'block');		
		pwckcorCheck = false;
	}
});    
```

