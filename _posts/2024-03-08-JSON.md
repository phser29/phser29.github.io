---
layout: single
title: "JSON spring 처리"
categories: java
tag: spring
toc: true
---

# JSON 테이터 변환

- JSON.parse() : 메서드는 JSON 문자열의 구문을 분석하고, 그 결과에서 JavaScript 값이나 객체를 생성

- 라이브러리 추가

```
<dependency>
  <groupId>com.fasterxml.jackson.core</groupId>
  <artifactId>jackson-databind</artifactId>
  <version>2.12.1</version>
</dependency>
```

- 카테고리 controller

```
@RequestMapping(value = "/goodsEnroll", method = RequestMethod.GET)
public void goodsEnrollGET(Model model) throws Exception{
	log.info("상품 등록 페이지 접속");
	
	List<CateVO> list = adminService.cateList();
	
	//JSON String 배열로 변환
	ObjectMapper objm = new ObjectMapper();
	String cateList = objm.writeValueAsString(list);
	
	model.addAttribute("cateList", cateList);
}
```

- 카테고리 배열 변수 선언

```
let cateList = JSON.parse('${cateList}');

let cate1Array = new Array();
let cate2Array = new Array();
let cate3Array = new Array();
let cate1Obj = new Object();
let cate2Obj = new Object();
let cate3Obj = new Object();

let cateSelect1 = $(".cate1");		
let cateSelect2 = $(".cate2");
let cateSelect3 = $(".cate3");
```

- 카테고리 배열 해당 클레스에 적용

```
function makeCateArray(obj, array, cateList, tier){
	for(let i = 0; i < cateList.length; i++){
		if(cateList[i].tier === tier){
			obj = new Object();
			
			obj.cateName = cateList[i].cateName;
			obj.cateCode = cateList[i].cateCode;
			obj.cateParent = cateList[i].cateParent;
			
			array.push(obj);
		}
	}
}

//배열 초기화
makeCateArray(cate1Obj,cate1Array,cateList,1);
makeCateArray(cate2Obj,cate2Array,cateList,2);
makeCateArray(cate3Obj,cate3Array,cateList,3);
```

- 대분류

```
for(let i = 0; i < cate1Array.length; i++){
	cateSelect1.append("<option value='"+cate1Array[i].cateCode+"'>" + cate1Array[i].cateName + "</option>");
}
```

- 중분류

```

```

- 소분류

```

```
